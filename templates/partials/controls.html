{% if status.running %}
<button hx-post="/stop" hx-target="#controls" hx-swap="innerHTML" class="active">â¹ Stop</button>
{% else %}
<button hx-post="/start" hx-target="#controls" hx-swap="innerHTML" hx-include="#mode-select, #max-turns">â–¶ Start</button>
{% endif %}
<select id="mode-select" name="mode" onchange="updateMode(this.value)">
    <option value="hybrid" {% if status.mode == 'hybrid' %}selected{% endif %}>Hybrid</option>
    <option value="turn_based" {% if status.mode == 'turn_based' %}selected{% endif %}>Turn-based</option>
    <option value="async" {% if status.mode == 'async' %}selected{% endif %}>Async</option>
</select>
<label for="max-turns" style="margin-left: 0.5rem;">Turns:</label>
<input type="number" id="max-turns" name="maxTurns" value="{{ status.max_turns or 20 }}" min="1" max="100" title="Max turns" style="width: 50px;">
<button hx-delete="/api/messages" hx-swap="none" hx-confirm="Clear all messages?" hx-on::after-request="htmx.ajax('GET', '/messages', '#messages'); if(typeof loadArtifacts === 'function') loadArtifacts();" style="margin-left: 0.5rem;">ğŸ—‘ Clear</button>
