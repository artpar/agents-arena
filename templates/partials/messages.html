{% for message in messages %}
{% if message.type == 'tool_use' %}
<div class="message tool-message" style="background: #1c2128; border-left: 3px solid #f0883e; padding: 0.5rem 1rem; margin: 0.25rem 0; font-size: 0.85rem;">
    <span style="color: #f0883e;">ðŸ”§</span>
    <strong style="color: #7ee787;">{{ message.agent_name }}</strong>
    <span style="color: #8b949e;"> using </span>
    <code style="background: #30363d; padding: 0.1rem 0.3rem; border-radius: 3px; color: #79c0ff;">{{ message.tool_name }}</code>
    <span class="message-time" style="color: #6e7681; margin-left: 0.5rem;">{{ message.timestamp | slice(11, 19) }}</span>
</div>
{% elif message.type == 'tool_result' %}
<div class="message tool-result-message" style="background: #1c2128; border-left: 3px solid {% if message.is_error %}#f85149{% else %}#3fb950{% endif %}; padding: 0.5rem 1rem; margin: 0.25rem 0 0.5rem 1rem; font-size: 0.8rem;">
    <span style="color: {% if message.is_error %}#f85149{% else %}#3fb950{% endif %};">{% if message.is_error %}âœ—{% else %}âœ“{% endif %}</span>
    <code style="color: #8b949e;">{{ message.tool_name }}</code>
    {% if message.result_length %}
    <span style="color: #6e7681;"> ({{ message.result_length }} chars)</span>
    {% endif %}
</div>
{% else %}
{% include 'partials/message.html' %}
{% endif %}
{% endfor %}
