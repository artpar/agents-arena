<div id="agents-header">
    <h2>Agents ({{ agents|length }})</h2>
</div>
<div id="agents-list" hx-get="/agents-list" hx-trigger="every 5s" hx-select="#agents-header, #agents-list" hx-target="#agents-panel" hx-swap="innerHTML">
    <ul class="agent-list">
        {% for agent in agents %}
        <li>
            <span class="agent-name">
                <span class="status-dot {{ agent.status }}"></span>
                {{ agent.name }}
            </span>
            <span class="agent-actions">
                <button class="step-btn"
                        hx-post="/agents/{{ agent.id }}/step"
                        hx-swap="none">▶</button>
                <button class="remove-btn"
                        hx-delete="/agents/{{ agent.id }}"
                        hx-confirm="Remove {{ agent.name }}?"
                        hx-target="#agents-list"
                        hx-swap="outerHTML">×</button>
            </span>
        </li>
        {% endfor %}
    </ul>
</div>
